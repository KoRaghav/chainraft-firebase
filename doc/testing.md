# Testing the Javascript TLA+ Interpreter

The main form of correctness testing for the Javascript TLA+ interpreter implementation is conformance testing against TLC. That is, for a given specification, we check whether our interpreter generates the same set of reachable states as TLC. 

Currently, we achieve this by [running TLC](https://github.com/will62794/tla-web/blob/master/specs/with_state_graphs/gen_state_graphs.sh) on a set of [test specifications](https://github.com/will62794/tla-web/tree/master/specs/with_state_graphs) and recording the DOT graph output of the reachable state graph (see an example [here](https://github.com/will62794/tla-web/blob/f0a69cde09d3957f948b2d02e0680065df40052f/specs/with_state_graphs/DieHard.tla.dot.json)). Then, we parse the states from this DOT graph as TLA+ formulas and [compare them against](https://github.com/will62794/tla-web/blob/7251ebdc20de35d734fedd2e0e1e091a2f4d03e7/js/test.js#L48-L50) the set of reachable states generated by our Javascript interpreter. This testing approach greatly reduces the burden of manually written tests that need to be written. Right now we are only checking whether the set of reachable states match between the Javascript interpreter and TLC, but not the edges of the state graph. Checking the full state graph is an outstanding [TODO item](https://github.com/will62794/tla-web/blob/7251ebdc20de35d734fedd2e0e1e091a2f4d03e7/js/test.js#L68).

All of the existing spec conformance tests are run on [this page](https://will62794.github.io/tla-web/test), where the results of each test and total runtime of the test suite is reported.